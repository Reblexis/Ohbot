<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>TrnkaComposer</title>
    <style>
        body {
        background-color: #181818;
        margin: 0px;
        }

        .main_paragraph{
            font-family: "Supply";
            font-size: 60px;
            height: 50px;
            background-color: #404040;
            color: white;
            text-align: center;
            padding-top: 24px;
            padding-bottom: 24px;
            margin: 0px;
        }

        .main_flex{
          display: flex;
          gap: 26%;
          flex-direction: row;
          margin: 30px;
          color: 	#c540c1;

        }

        .slider_flex{
          display: flex;
          gap: 5%;
          flex-direction: row;
          margin: 0px;
          color: 	#c540c1;
          padding-top: 5%;

        }

        .box_style{
          gap: 5%;
          margin: 0px;
          color: 	#c540c1;
          padding-top: 0%;
        }

        h1{
          font-size: 30px;
          font-family: "Century Gothic"
        }

        .settings_text{
          font-size: 23px;
          color: white;
          position: relative;
        }

        .settings_text_2{
          font-size: 25px;
          color: white;
          position: relative;
        }

        .settings_text .tooltip{
          visibility: hidden;
          width: 120px;
          background-color: black;
          color: white;
          text-align: center;
          padding: 5px 0;
          border-radius: 6px;
          width: 350px;
          position: absolute;
          z-index: 1;
          top: 150%;
          left: 50%;
          margin-left: -60px;
          

        }

        .settings_text:hover .tooltip{
          visibility: visible;
        }
        
        .slider {
          -webkit-appearance: none;
          width: 60%;
          height: 15px;
          background: #d3d3d3;
          border-radius: 5px; 
          outline: none;
          opacity: 0.7;
          -webkit-transition: .2s;
          transition: opacity .2s;
          }

        .slider:hover {
          opacity: 1;
        }

        .slider::-webkit-slider-thumb {
          -webkit-appearance: none;
          appearance: none;
          width: 25px;
          height: 25px;
          border-radius: 50%; 
          background: #c540c1;
          cursor: pointer;
        }

        .slider::-moz-range-thumb {
          width: 25px;
          height: 25px;
          border-radius: 50%;
          background: #c540c1;
          cursor: pointer;
        }

        /* Customize the label (the container) */
        .container {
          display: block;
          position: relative;
          padding-left: 35px;
          margin-bottom: 12px;
          cursor: pointer;
          font-size: 22px;
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          user-select: none;
          color: #eee;
        }

        /* Hide the browser's default checkbox */
        .container input {
          position: absolute;
          opacity: 0;
          cursor: pointer;
          height: 0;
          width: 0;
        }

        /* Create a custom checkbox */
        .checkmark {
          position: absolute;
          top: 0;
          left: 0;
          height: 25px;
          width: 25px;
          background-color: #eee;
        }

        /* On mouse-over, add a grey background color */
        .container:hover input ~ .checkmark {
          background-color: #ccc;
        }

        /* When the checkbox is checked, add a blue background */
        .container input:checked ~ .checkmark {
          background-color: #c540c1;
        }

        /* Create the checkmark/indicator (hidden when not checked) */
        .checkmark:after {
          content: "";
          position: absolute;
          display: none;
        }

        /* Show the checkmark when checked */
        .container input:checked ~ .checkmark:after {
          display: block;
        }

        /* Style the checkmark/indicator */
        .container .checkmark:after {
          left: 9px;
          top: 5px;
          width: 5px;
          height: 10px;
          border: solid white;
          border-width: 0 3px 3px 0;
          -webkit-transform: rotate(45deg);
          -ms-transform: rotate(45deg);
          transform: rotate(45deg);
        }

        midi-player {
          display: block;
          width: inherit;
          margin: 4px;
          margin-bottom: 0;
        }



        midi-player::part(control-panel) {
          background: #404040;
          border: 2px solid #000;
          color: white;
          border-radius: 10px 10px 0px 0px;
        }

        
        midi-player::part(play-button) {
          color: black;
          border: 2px solid currentColor;
          background-color: #c540c1;
          border-radius: 20px;
          transition: all 0.2s;
          content: 'hello';
        }
        midi-player::part(play-button):hover {
          color: black;
          background-color: #c540c1;
          border-radius: 10px;
        }

        midi-player::part(play-button) {
          color: black;
          border: 2px solid currentColor;
          background-color: #c540c1;
          border-radius: 20px;
          transition: all 0.2s;
          content: 'hello';
        }

        midi-player::part(control-timeline) {
          background-color: #c540c1;
        }

        midi-visualizer .piano-roll-visualizer {
          background: white;
          border: 2px solid #000;
          border-top: none;
          border-radius: 0 0 10px 10px;
          margin: 4px;
          margin-top: 0;
          overflow: auto;
        }
        midi-visualizer svg rect.note {
          opacity: 1;
          stroke-width: 2;
          fill: #888;
          stroke: #888;
        }
        midi-visualizer svg rect.note[data-instrument="0"]{
          fill: #c540c1;
          stroke: solid #000;
        }
        
        midi-visualizer svg rect.note.active {
          opacity: 0.9;
          stroke: #000;
          fill: #181818;
        }

  

    </style>

  </head>

  <body>
    <p class="main_paragraph">
        TrnkaComposer
    </p>

    <div class="main_flex">
      <div style="width: 18%;">
        <p><h1>Generator Settings</h1></p>
        <div class="settings_text">Degrees of Freedom <span class="tooltip">Higher values will increase the creativity of the TrnkaComposer and lower instead will deacrase the creativity</span></div> 
        <form action="#" method="post" id="sus">
          <div class="slider_flex">
            <input type="range" min="1" max="100" value={{start_dgf}} class="slider" id="myRange" name="dgf">
            <span id="demo"></span>

          </div>

          <p class="settings_text_2">Genres</p>
        
          <div class="box_style">
            {%- for name, genre in genresGen.items() %}
              <label class="container">{{genre.title}}
                <input type="checkbox" {{ "checked" if genre.default or checkBoxes[name] else ""}} name="{{name}}">
                <span class="checkmark"></span>
              </label>
            {% endfor %}
          </div>


        </form>
        
        
      </div>



      
      <div>
          <midi-player src="/static/asus2.mid" sound-font visualizer=""></midi-player>
          <midi-visualizer src="/static/asus2.mid"></midi-visualizer>
        

        <center><input type="submit" value="Submit" onclick="document.getElementById('sus').submit();"></center>
      </div>

    </div>

    


    
    <script>
      var slider = document.getElementById("myRange");
      var output = document.getElementById("demo");
      output.innerHTML = slider.value/100;
      
      slider.oninput = function() {
        output.innerHTML = this.value/100;
      }
    </script>

    <script src="https://cdn.jsdelivr.net/combine/npm/tone@14.7.58,npm/@magenta/music@1.22.1/es6/core.js,npm/focus-visible@5,npm/html-midi-player@1.4.0"></script>

  </body>




</html>